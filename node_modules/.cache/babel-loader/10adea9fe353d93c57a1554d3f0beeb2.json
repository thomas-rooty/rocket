{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\artho\\\\Desktop\\\\COURS IPSSI\\\\Fondamentaux Web, GIT\\\\5\\\\rocket\\\\src\\\\Components\\\\MusicPlayer\\\\MusicPlayer.js\";\nimport React, { Component } from 'react';\nimport './MusicPlayer.css'; //icons\n\nimport VolumeUp from \"../icons/VolumeUppIcon.svg\";\nimport VolumeOffIcon from \"../icons/VolumeDownIcon.svg\";\nimport VolumeDown from \"../icons/VolumeOffIcon.svg\";\nimport ReplayIcon from \"../icons/loop.svg\";\nimport PlayArrowIcon from '@mui/icons-material/PlayArrow';\nimport SkipNextIcon from \"../icons/next.svg\";\nimport SkipPreviousIcon from \"../icons/previous.svg\";\nimport PlayIcon from \"../icons/play.svg\";\nimport PauseIcon from \"../icons/pause.svg\";\nimport BlankIcon from '../icons/blank.png'; // api\n\nimport LinearProgress from '@mui/material/LinearProgress';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nimport SliderMui from '../slider/Slider';\nimport Stack from '@mui/material/Stack';\nimport Slider from '@mui/material/Slider';\nimport getMusic from '../../api/getMusic';\nimport searchSongs from '../../api/searchSongs'; // DEV\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction secondsToHms(seconds) {\n  if (!seconds) return '00m 00s';\n  let duration = seconds;\n  let hours = duration / 3600;\n  duration = duration % 3600;\n  let min = parseInt(duration / 60);\n  duration = duration % 60;\n  let sec = parseInt(duration);\n\n  if (sec < 10) {\n    sec = `0${sec}`;\n  }\n\n  if (min < 10) {\n    min = `0${min}`;\n  }\n\n  if (parseInt(hours, 10) > 0) {\n    return `${parseInt(hours, 10)}h ${min}m ${sec}s`;\n  } else if (min == 0) {\n    return `00m ${sec}s`;\n  } else {\n    return `${min}m ${sec}s`;\n  }\n}\n\nfunction LinearProgressWithLabel(props) {\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: '100%',\n        mr: 1\n      },\n      children: /*#__PURE__*/_jsxDEV(LinearProgress, {\n        variant: \"determinate\",\n        ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        minWidth: 35\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        children: secondsToHms(props.duration)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_c = LinearProgressWithLabel;\n\nclass MusicPlayer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loadedDataMusic: false,\n      play: false,\n      audio: new Audio(),\n      data: [],\n      firstLog: false,\n      reload: false,\n      volume: 100,\n      currentmp3: '',\n      currentPictures: '',\n      currentMusicId: '',\n      currentAlbum: '',\n      currentAuteur: '',\n      currentGenre: '',\n      currentTitre: '',\n      currentDuration: 0,\n      currentPlayed: 0,\n      currentMusicIndex: 0\n    };\n    this.myRef = /*#__PURE__*/React.createRef();\n    this.killAudio = this.killAudio.bind(this);\n    this.UpIndex = this.UpIndex.bind(this);\n    this.DownIndex = this.DownIndex.bind(this);\n    this.loop = this.loop.bind(this);\n    this.PlayMusic = this.PlayMusic.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.TrackChangeMusic = this.TrackChangeMusic.bind(this);\n    this.searchTracks = this.searchTracks.bind(this);\n  }\n\n  componentDidMount() {\n    this.state.audio.pause();\n    getMusic().then(result => {\n      this.setState({\n        firstLog: true,\n        data: result,\n        currentMusicId: result[this.state.currentMusicIndex]['MusicId'],\n        currentmp3: result[this.state.currentMusicIndex]['mp3'],\n        currentPictures: result[this.state.currentMusicIndex]['Pictures'],\n        currentMusicId: result[this.state.currentMusicIndex]['PMusicId'],\n        currentAlbum: result[this.state.currentMusicIndex]['Album'],\n        currentAuteur: result[this.state.currentMusicIndex]['Auteur'],\n        currentGenre: result[this.state.currentMusicIndex]['Genre'],\n        currentTitre: result[this.state.currentMusicIndex]['Titre'],\n        audio: new Audio(result[this.state.currentMusicIndex]['mp3'])\n      }, () => {\n        this.state.audio.addEventListener('loadedmetadata', e => {\n          this.setState({\n            currentDuration: e.target.duration\n          });\n        });\n      });\n    });\n  }\n\n  searchTracks(e) {\n    if (e.target.value == '') {\n      this.state.audio.pause();\n      getMusic().then(result => {\n        this.setState({\n          firstLog: true,\n          data: result,\n          currentMusicId: result[this.state.currentMusicIndex]['MusicId'],\n          currentmp3: result[this.state.currentMusicIndex]['mp3'],\n          currentPictures: result[this.state.currentMusicIndex]['Pictures'],\n          currentMusicId: result[this.state.currentMusicIndex]['PMusicId'],\n          currentAlbum: result[this.state.currentMusicIndex]['Album'],\n          currentAuteur: result[this.state.currentMusicIndex]['Auteur'],\n          currentGenre: result[this.state.currentMusicIndex]['Genre'],\n          currentTitre: result[this.state.currentMusicIndex]['Titre'],\n          audio: new Audio(result[this.state.currentMusicIndex]['mp3'])\n        }, () => {\n          this.state.audio.addEventListener('loadedmetadata', e => {\n            this.setState({\n              currentDuration: e.target.duration\n            });\n          });\n        });\n      });\n    } else {\n      searchSongs(e.target.value).then(songs => {\n        this.setState({\n          data: songs\n        });\n      });\n    }\n  }\n\n  TrackChangeMusic(x) {\n    this.killAudio(x);\n    this.setState({\n      currentMusicId: this.state.data[x]['MusicId'],\n      currentmp3: this.state.data[x]['mp3'],\n      currentPictures: this.state.data[x]['Pictures'],\n      currentMusicId: this.state.data[x]['PMusicId'],\n      currentAlbum: this.state.data[x]['Album'],\n      currentAuteur: this.state.data[x]['Auteur'],\n      currentGenre: this.state.data[x]['Genre'],\n      currentTitre: this.state.data[x]['Titre'],\n      audio: new Audio(this.state.data[x]['mp3'])\n    }, () => {\n      this.state.audio.addEventListener('loadedmetadata', e => {\n        this.setState({\n          currentDuration: e.target.duration\n        });\n      });\n    });\n  }\n\n  killAudio(x) {\n    this.state.audio.pause();\n    this.setState({\n      play: true,\n      currentMusicIndex: x\n    });\n  } //\n\n\n  UpIndex() {\n    let x = this.state.currentMusicIndex + 1;\n\n    if (x < this.state.data.length) {\n      this.killAudio(x);\n      this.setState({\n        currentMusicId: this.state.data[x]['MusicId'],\n        currentmp3: this.state.data[x]['mp3'],\n        currentPictures: this.state.data[x]['Pictures'],\n        currentMusicId: this.state.data[x]['PMusicId'],\n        currentAlbum: this.state.data[x]['Album'],\n        currentAuteur: this.state.data[x]['Auteur'],\n        currentGenre: this.state.data[x]['Genre'],\n        currentTitre: this.state.data[x]['Titre'],\n        audio: new Audio(this.state.data[x]['mp3'])\n      }, () => {\n        this.state.audio.addEventListener('loadedmetadata', e => {\n          this.setState({\n            currentDuration: e.target.duration\n          });\n        });\n      });\n    }\n  }\n\n  DownIndex() {\n    let x = this.state.currentMusicIndex - 1;\n\n    if (x >= 0) {\n      this.killAudio(x);\n      this.setState({\n        currentMusicId: this.state.data[x]['MusicId'],\n        currentmp3: this.state.data[x]['mp3'],\n        currentPictures: this.state.data[x]['Pictures'],\n        currentMusicId: this.state.data[x]['PMusicId'],\n        currentAlbum: this.state.data[x]['Album'],\n        currentAuteur: this.state.data[x]['Auteur'],\n        currentGenre: this.state.data[x]['Genre'],\n        currentTitre: this.state.data[x]['Titre'],\n        audio: new Audio(this.state.data[x]['mp3'])\n      }, () => {\n        this.state.audio.addEventListener('loadedmetadata', e => {\n          this.setState({\n            currentDuration: e.target.duration\n          });\n        });\n      });\n    }\n  }\n\n  loop() {\n    this.state.audio.loop = true;\n  }\n\n  PlayMusic(state) {\n    if (state === 'play') {\n      this.state.audio.play();\n      this.setState({\n        play: true\n      });\n    } else if (state === 'pause') {\n      this.state.audio.pause();\n      this.setState({\n        play: false\n      });\n    }\n  }\n\n  handleChange(e) {\n    this.setState({\n      volume: e.target.value\n    });\n  }\n\n  onChange(e) {\n    var x = this.state.currentDuration / 100 * e.target.value;\n    this.state.audio.currentTime = x;\n    this.setState({\n      currentPlayed: x\n    });\n  }\n\n  render() {\n    setTimeout(() => {\n      if (this.state.play) {\n        this.setState({\n          currentPlayed: this.state.audio.currentTime\n        });\n      }\n    }, 500);\n\n    if (this.state.firstLog) {\n      if (this.state.play === true) {\n        this.state.audio.play();\n      } else {\n        this.state.audio.pause();\n      }\n    }\n\n    this.state.audio.volume = this.state.volume / 100;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Body\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Navbar\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"search\",\n          onChange: this.searchTracks\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"player\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"musicInfos\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"picturesPlayer\",\n            style: {\n              backgroundImage: `url(${this.state.currentPictures})`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"nameSong\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: this.state.currentTitre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ContentPlayer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"indicatorPlayer\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: ReplayIcon,\n              onClick: this.loop\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: SkipPreviousIcon,\n              onClick: this.DownIndex,\n              style: {\n                color: this.state.currentMusicIndex - 1 < 0 && '#F8F8F8'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), !this.state.play ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: PlayIcon,\n              onClick: () => {\n                this.PlayMusic('play');\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: PauseIcon,\n              onClick: () => {\n                this.PlayMusic('pause');\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: SkipNextIcon,\n              onClick: this.UpIndex,\n              style: {\n                color: this.state.currentMusicIndex + 1 > this.state.data.length - 1 && '#F8F8F8'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: BlankIcon,\n              style: {}\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ProgressBarPlayer\",\n            style: {\n              width: \"50%\"\n            },\n            children: /*#__PURE__*/_jsxDEV(SliderMui, {\n              percentage: this.state.firstLog && this.state.currentPlayed / this.state.currentDuration * 100,\n              onChange: this.onChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"volumeSlider\",\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              width: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(Stack, {\n              spacing: 2,\n              direction: \"row\",\n              sx: {\n                mb: 1\n              },\n              alignItems: \"center\",\n              children: [this.state.volume > 0 ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: VolumeOffIcon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                src: VolumeDown\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Slider, {\n                \"aria-label\": \"Volume\",\n                value: this.state.volume,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: VolumeUp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ListOfTracks\",\n        children: this.state.data.length > 0 && this.state.data.map((row, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Tracks\",\n          onClick: () => {\n            this.TrackChangeMusic(index);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: row.Pictures\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"titreTest\",\n            children: row.Titre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: row.Auteur\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: row.Genre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 19\n          }, this)]\n        }, row.MusicID, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this);\n  }\n\n} //  MusicPlayer(){\n//\n// }\n\n\nexport default MusicPlayer;\n\nvar _c;\n\n$RefreshReg$(_c, \"LinearProgressWithLabel\");","map":{"version":3,"sources":["C:/Users/artho/Desktop/COURS IPSSI/Fondamentaux Web, GIT/5/rocket/src/Components/MusicPlayer/MusicPlayer.js"],"names":["React","Component","PlayArrowIcon","BlankIcon","LinearProgress","Typography","Box","SliderMui","Stack","Slider","getMusic","searchSongs","secondsToHms","seconds","duration","hours","min","parseInt","sec","LinearProgressWithLabel","props","display","alignItems","width","mr","minWidth","MusicPlayer","constructor","state","loadedDataMusic","play","audio","Audio","data","firstLog","reload","volume","currentmp3","currentPictures","currentMusicId","currentAlbum","currentAuteur","currentGenre","currentTitre","currentDuration","currentPlayed","currentMusicIndex","myRef","createRef","killAudio","bind","UpIndex","DownIndex","loop","PlayMusic","onChange","handleChange","TrackChangeMusic","searchTracks","componentDidMount","pause","then","result","setState","addEventListener","e","target","value","songs","x","length","currentTime","render","setTimeout","backgroundImage","ReplayIcon","SkipPreviousIcon","color","PlayIcon","PauseIcon","SkipNextIcon","mb","VolumeOffIcon","VolumeDown","VolumeUp","map","row","index","Pictures","Titre","Auteur","Genre","MusicID"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './MusicPlayer.css';\n\n//icons\nimport VolumeUp from '../icons/VolumeUppIcon.svg';\nimport VolumeOffIcon from '../icons/VolumeDownIcon.svg';\nimport VolumeDown from '../icons/VolumeOffIcon.svg';\nimport ReplayIcon from '../icons/loop.svg';\nimport PlayArrowIcon from '@mui/icons-material/PlayArrow';\nimport SkipNextIcon from '../icons/next.svg';\nimport SkipPreviousIcon from '../icons/previous.svg';\nimport PlayIcon from '../icons/play.svg';\nimport PauseIcon from '../icons/pause.svg';\nimport BlankIcon from '../icons/blank.png';\n\n// api\n\nimport LinearProgress from '@mui/material/LinearProgress';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nimport SliderMui from '../slider/Slider';\nimport Stack from '@mui/material/Stack';\nimport Slider from '@mui/material/Slider';\n\nimport getMusic from '../../api/getMusic';\nimport searchSongs from '../../api/searchSongs';\n\n// DEV\nfunction secondsToHms(seconds) {\n  if (!seconds) return '00m 00s'\n\n  let duration = seconds\n  let hours = duration / 3600\n  duration = duration % 3600\n\n  let min = parseInt(duration / 60)\n  duration = duration % 60\n\n  let sec = parseInt(duration)\n\n  if (sec < 10) {\n    sec = `0${sec}`\n  }\n  if (min < 10) {\n    min = `0${min}`\n  }\n\n  if (parseInt(hours, 10) > 0) {\n    return `${parseInt(hours, 10)}h ${min}m ${sec}s`\n  } else if (min == 0) {\n    return `00m ${sec}s`\n  } else {\n    return `${min}m ${sec}s`\n  }\n}\nfunction LinearProgressWithLabel(props) {\n  return (\n    <Box sx={{ display: 'flex', alignItems: 'center' }}>\n      <Box sx={{ width: '100%', mr: 1 }}>\n        <LinearProgress variant=\"determinate\" {...props} />\n      </Box>\n      <Box sx={{ minWidth: 35 }}>\n        <Typography variant=\"body2\" color=\"text.secondary\">{secondsToHms(props.duration)}</Typography>\n      </Box>\n    </Box>\n  );\n}\nclass MusicPlayer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loadedDataMusic: false,\n      play: false,\n      audio: new Audio(),\n      data: [],\n      firstLog: false,\n      reload: false,\n      volume: 100,\n\n      currentmp3: '',\n      currentPictures: '',\n      currentMusicId: '',\n      currentAlbum: '',\n      currentAuteur: '',\n      currentGenre: '',\n      currentTitre: '',\n      currentDuration: 0,\n      currentPlayed: 0,\n      currentMusicIndex: 0,\n    }\n    this.myRef = React.createRef()\n    this.killAudio = this.killAudio.bind(this);\n    this.UpIndex = this.UpIndex.bind(this);\n    this.DownIndex = this.DownIndex.bind(this);\n    this.loop = this.loop.bind(this);\n    this.PlayMusic = this.PlayMusic.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.TrackChangeMusic = this.TrackChangeMusic.bind(this);\n    this.searchTracks = this.searchTracks.bind(this);\n  }\n  componentDidMount() {\n    this.state.audio.pause()\n    getMusic().then(\n      result => {\n        this.setState({\n          firstLog: true,\n          data: result,\n          currentMusicId: result[this.state.currentMusicIndex]['MusicId'],\n          currentmp3: result[this.state.currentMusicIndex]['mp3'],\n          currentPictures: result[this.state.currentMusicIndex]['Pictures'],\n          currentMusicId: result[this.state.currentMusicIndex]['PMusicId'],\n          currentAlbum: result[this.state.currentMusicIndex]['Album'],\n          currentAuteur: result[this.state.currentMusicIndex]['Auteur'],\n          currentGenre: result[this.state.currentMusicIndex]['Genre'],\n          currentTitre: result[this.state.currentMusicIndex]['Titre'],\n          audio: new Audio(result[this.state.currentMusicIndex]['mp3'])\n        }, () => {\n          this.state.audio.addEventListener('loadedmetadata', (e) => {\n            this.setState({\n              currentDuration: e.target.duration\n            })\n          })\n        })\n      }\n    )\n  }\n  searchTracks(e) {\n    if (e.target.value == '') {\n      this.state.audio.pause()\n      getMusic().then(\n        result => {\n          this.setState({\n            firstLog: true,\n            data: result,\n            currentMusicId: result[this.state.currentMusicIndex]['MusicId'],\n            currentmp3: result[this.state.currentMusicIndex]['mp3'],\n            currentPictures: result[this.state.currentMusicIndex]['Pictures'],\n            currentMusicId: result[this.state.currentMusicIndex]['PMusicId'],\n            currentAlbum: result[this.state.currentMusicIndex]['Album'],\n            currentAuteur: result[this.state.currentMusicIndex]['Auteur'],\n            currentGenre: result[this.state.currentMusicIndex]['Genre'],\n            currentTitre: result[this.state.currentMusicIndex]['Titre'],\n            audio: new Audio(result[this.state.currentMusicIndex]['mp3'])\n          }, () => {\n            this.state.audio.addEventListener('loadedmetadata', (e) => {\n              this.setState({\n                currentDuration: e.target.duration\n              })\n            })\n          })\n        }\n      )\n    } else {\n      searchSongs(e.target.value).then(\n        songs => {\n          this.setState({\n            data: songs\n          })\n        }\n      )\n    }\n\n  }\n  TrackChangeMusic(x) {\n    this.killAudio(x)\n    this.setState({\n      currentMusicId: this.state.data[x]['MusicId'],\n      currentmp3: this.state.data[x]['mp3'],\n      currentPictures: this.state.data[x]['Pictures'],\n      currentMusicId: this.state.data[x]['PMusicId'],\n      currentAlbum: this.state.data[x]['Album'],\n      currentAuteur: this.state.data[x]['Auteur'],\n      currentGenre: this.state.data[x]['Genre'],\n      currentTitre: this.state.data[x]['Titre'],\n      audio: new Audio(this.state.data[x]['mp3'])\n    }, () => {\n      this.state.audio.addEventListener('loadedmetadata', (e) => {\n        this.setState({\n          currentDuration: e.target.duration\n        })\n      })\n    })\n  }\n  killAudio(x) {\n    this.state.audio.pause()\n    this.setState({\n      play: true,\n      currentMusicIndex: x,\n    })\n  }\n  //\n  UpIndex() {\n    let x = this.state.currentMusicIndex + 1;\n    if (x < this.state.data.length) {\n      this.killAudio(x)\n      this.setState({\n        currentMusicId: this.state.data[x]['MusicId'],\n        currentmp3: this.state.data[x]['mp3'],\n        currentPictures: this.state.data[x]['Pictures'],\n        currentMusicId: this.state.data[x]['PMusicId'],\n        currentAlbum: this.state.data[x]['Album'],\n        currentAuteur: this.state.data[x]['Auteur'],\n        currentGenre: this.state.data[x]['Genre'],\n        currentTitre: this.state.data[x]['Titre'],\n        audio: new Audio(this.state.data[x]['mp3'])\n      }, () => {\n        this.state.audio.addEventListener('loadedmetadata', (e) => {\n          this.setState({\n            currentDuration: e.target.duration\n          })\n        })\n      })\n    }\n  }\n  DownIndex() {\n    let x = this.state.currentMusicIndex - 1;\n    if (x >= 0) {\n      this.killAudio(x)\n      this.setState({\n        currentMusicId: this.state.data[x]['MusicId'],\n        currentmp3: this.state.data[x]['mp3'],\n        currentPictures: this.state.data[x]['Pictures'],\n        currentMusicId: this.state.data[x]['PMusicId'],\n        currentAlbum: this.state.data[x]['Album'],\n        currentAuteur: this.state.data[x]['Auteur'],\n        currentGenre: this.state.data[x]['Genre'],\n        currentTitre: this.state.data[x]['Titre'],\n        audio: new Audio(this.state.data[x]['mp3'])\n      }, () => {\n        this.state.audio.addEventListener('loadedmetadata', (e) => {\n          this.setState({\n            currentDuration: e.target.duration\n          })\n        })\n      })\n    }\n  }\n  loop() {\n    this.state.audio.loop = true\n  }\n  PlayMusic(state) {\n    if (state === 'play') {\n      this.state.audio.play();\n      this.setState({\n        play: true\n      })\n    } else if (state === 'pause') {\n      this.state.audio.pause();\n      this.setState({\n        play: false\n      })\n    }\n  }\n  handleChange(e) {\n    this.setState({\n      volume: e.target.value,\n    })\n  }\n  onChange(e) {\n    var x = (this.state.currentDuration / 100) * e.target.value\n    this.state.audio.currentTime = x\n    this.setState({\n      currentPlayed: x\n    })\n  }\n  render() {\n    setTimeout(() => {\n      if (this.state.play) {\n        this.setState({\n          currentPlayed: this.state.audio.currentTime\n        })\n      }\n    }, 500);\n    if (this.state.firstLog) {\n      if (this.state.play === true) {\n        this.state.audio.play()\n      } else {\n        this.state.audio.pause()\n      }\n    }\n    this.state.audio.volume = this.state.volume / 100\n    return (\n      <div className=\"Body\">\n        <div className=\"Navbar\">\n          <input type=\"search\" onChange={this.searchTracks} />\n        </div>\n        <div className=\"player\">\n          <div className=\"musicInfos\">\n            <div className=\"picturesPlayer\" style={{\n              backgroundImage: `url(${this.state.currentPictures})`\n            }}>\n            </div>\n            <div className=\"nameSong\">\n              <h5>\n                {\n                  this.state.currentTitre\n                }\n              </h5>\n            </div>\n          </div>\n\n          <div className=\"ContentPlayer\">\n\n            <div className=\"indicatorPlayer\">\n              <img src={ReplayIcon} onClick={this.loop} />\n              <img src={SkipPreviousIcon}\n                onClick={this.DownIndex}\n                style={{\n                  color: this.state.currentMusicIndex - 1 < 0 && '#F8F8F8'\n                }} />\n              {\n                !this.state.play\n                  ? <img src={PlayIcon} onClick={() => { this.PlayMusic('play') }} />\n                  : <img src={PauseIcon} onClick={() => { this.PlayMusic('pause') }} />\n              }\n              <img src={SkipNextIcon} onClick={this.UpIndex}\n                style={{\n                  color: this.state.currentMusicIndex + 1 > this.state.data.length - 1 && '#F8F8F8'\n                }} />\n              <img src={BlankIcon}\n                style={{}} />\n\n\n            </div>\n            <div className=\"ProgressBarPlayer\" style={{ width: \"50%\" }}>\n              <SliderMui percentage={this.state.firstLog && this.state.currentPlayed / this.state.currentDuration * 100} onChange={this.onChange}  />\n            </div>\n          </div>\n          <div className=\"volumeSlider\">\n            <Box sx={{ width: '100%' }}>\n              <Stack spacing={2} direction=\"row\" sx={{ mb: 1 }} alignItems=\"center\">\n                {\n                  this.state.volume > 0\n                    ? <img src={VolumeOffIcon} />\n                    : <img src={VolumeDown} />\n                }\n\n                <Slider aria-label=\"Volume\" value={this.state.volume} onChange={this.handleChange} />\n                <img src={VolumeUp} />\n              </Stack>\n            </Box>\n          </div>\n        </div>\n        <div className=\"ListOfTracks\">\n          {\n            this.state.data.length > 0\n            && this.state.data.map(\n              (row, index) =>\n                <div className=\"Tracks\" key={row.MusicID} onClick={() => { this.TrackChangeMusic(index) }}>\n                  <img src={row.Pictures} />\n                  <h5 className=\"titreTest\">{row.Titre}</h5>\n                  <h5>{row.Auteur}</h5>\n                  <h5>{row.Genre}</h5>\n                </div>\n\n            )\n          }\n        </div>\n      </div >\n    )\n  }\n}\n\n\n\n\n//  MusicPlayer(){\n//\n\n// }\nexport default MusicPlayer;\n"]},"metadata":{},"sourceType":"module"}